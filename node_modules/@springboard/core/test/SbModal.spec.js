import chai from 'chai'
import { shallowMount } from '@vue/test-utils'

import { SbModal } from '../src/components'

const should = chai.should()

describe('SbModal.vue', () => {
  it('Should_CloseModal_WhenClickOutSide', () => {
    const wrapper = shallowMount(SbModal, {
      propsData: {
        show: true
      }
    })

    wrapper.find('.sb-modal-container').trigger('click')
    should.not.exist(wrapper.emitted().close)

    wrapper.find('.sb-modal-wrapper').trigger('click')
    wrapper.emitted().close.should.exist
    wrapper.find('.sb-modal-wrapper').exists().should.be.false
  })

  it('Should_FullscreenClassBePresent_When_FullscreenIsTrue', () => {
    const wrapper = shallowMount(SbModal, {
      propsData: {
        show: true,
        fullscreen: true
      }
    })

    wrapper.find('.sb-modal-wrapper').classes().should.contain('fullscreen')
  })
})
