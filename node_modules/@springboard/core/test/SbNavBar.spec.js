import 'chai/register-should'
import { shallowMount } from '@vue/test-utils'

import { SbNavBar } from '../src/components'

describe('SbNavBar.vue', () => {
  it('Should_HaveOnlyRouterLinkTag_When_ToIsGiven', () => {
    const wrapper = shallowMount(SbNavBar, {
      propsData: {
        to: 'dummy.io',
        stubs: ['router-link']
      }
    })

    wrapper.find('router-link').attributes('to').should.be.equal('dummy.io')
    wrapper.find('router-link ~ div').exists().should.be.false
  })

  it('Should_HaveOnlyMailIcon_When_IconLeftIsMail', () => {
    const wrapper = shallowMount(SbNavBar, {
      propsData: {
        iconLeft: 'mail'
      }
    })

    wrapper.find('router-link').exists().should.be.false
    wrapper.find('.icon').classes().should.contain('icon-mail')
  })

  it('Should_TriggerClickEvent_When_IconLeftIsClicked', () => {
    const wrapper = shallowMount(SbNavBar, {
      propsData: {
        iconLeft: 'cross'
      }
    })

    wrapper.find('.icon.icon-cross').trigger('click')

    wrapper.emitted().click.should.exist
  })

  it('Should_HaveBlueClass_When_ColorIsBlue', () => {
    const wrapper = shallowMount(SbNavBar, {
      propsData: {
        color: 'blue',
        stubs: ['router-link']
      }
    })

    wrapper.classes().should.contain('blue')
  })
})
